{
  "name": "schedule",
  "displayName": "Schedule",
  "description": "Schedule management",
  "functions": [
    {
      "name": "getSchedules",
      "signature": "async getSchedules(app: FastifyInstance, query: any): Promise<PaginatedResponse<Schedule>>",
      "description": "Get paginated list of schedules with filtering",
      "category": "service",
      "testScenarios": [
        {
          "id": "schedule-getSchedules-001",
          "name": "Happy Path - Get Schedules",
          "phase": "RED",
          "description": "Should return paginated schedules",
          "testCode": "it('should return paginated schedules', async () => {\n  const query = { page: 1, limit: 10 };\n  jest.spyOn(app.prisma.tB_M_SCHEDULE, 'findMany').mockResolvedValue([]);\n  jest.spyOn(app.prisma.tB_M_SCHEDULE, 'count').mockResolvedValue(0);\n  const result = await scheduleService.getSchedules(app, query);\n  expect(result.data).toBeDefined();\n});"
        }
      ],
      "todos": [
        {
          "id": "todo-getSchedules-001",
          "task": "Setup test file: src/tests/unit/schedule.service.spec.ts",
          "status": "pending",
          "priority": "high",
          "description": "Create test file with describe block"
        },
        {
          "id": "todo-getSchedules-002",
          "task": "Write test: Happy Path - Get Schedules",
          "status": "pending",
          "priority": "high",
          "description": "Write test for paginated schedule list"
        },
        {
          "id": "todo-getSchedules-003",
          "task": "Mock app.prisma.tB_M_SCHEDULE.findMany",
          "status": "pending",
          "priority": "high",
          "description": "Mock Prisma findMany for schedules"
        },
        {
          "id": "todo-getSchedules-004",
          "task": "Mock app.prisma.tB_M_SCHEDULE.count",
          "status": "pending",
          "priority": "high",
          "description": "Mock Prisma count for total"
        },
        {
          "id": "todo-getSchedules-005",
          "task": "Implement getSchedules function",
          "status": "pending",
          "priority": "high",
          "description": "Query Prisma with pagination and return result"
        },
        {
          "id": "todo-getSchedules-006",
          "task": "Write test: Filter by APPLICATION_ID",
          "status": "pending",
          "priority": "medium",
          "description": "Test filtering schedules by application"
        },
        {
          "id": "todo-getSchedules-007",
          "task": "Write test: Date range filtering",
          "status": "pending",
          "priority": "medium",
          "description": "Test filtering by SCHEDULE_SYNC_START_DT range"
        }
      ],
      "bddScenarios": [
        {
          "id": "bdd-getSchedules-001",
          "name": "Feature: Get Schedules",
          "description": "As a user, I want to retrieve a paginated list of schedules so that I can view UAR process schedules",
          "scenarios": [
            {
              "id": "bdd-getSchedules-001-001",
              "name": "Scenario: List Schedules with Pagination",
              "given": [
                "Schedules exist in database",
                "User requests paginated list"
              ],
              "when": [
                "User calls getSchedules with page and limit",
                "System queries Prisma"
              ],
              "then": [
                "System returns paginated response",
                "System includes data array and total count"
              ],
              "testCode": "it('should return paginated schedules', async () => {\n  const query = { page: 1, limit: 10 };\n  jest.spyOn(app.prisma.tB_M_SCHEDULE, 'findMany').mockResolvedValue([]);\n  jest.spyOn(app.prisma.tB_M_SCHEDULE, 'count').mockResolvedValue(0);\n  const result = await scheduleService.getSchedules(app, query);\n  expect(result.data).toBeDefined();\n  expect(result.total).toBeDefined();\n});"
            }
          ]
        }
      ]
    },
    {
      "name": "createSchedule",
      "signature": "async createSchedule(app: FastifyInstance, data: CreateScheduleDTO): Promise<Schedule>",
      "description": "Create new schedule",
      "category": "service",
      "testScenarios": [
        {
          "id": "schedule-create-001",
          "name": "Happy Path - Create Schedule",
          "phase": "RED",
          "description": "Should create schedule successfully",
          "testCode": "it('should create schedule', async () => {\n  const data = { APPLICATION_ID: 'APP001', SCHEDULE_SYNC_START_DT: '2024-01-01', ... };\n  jest.spyOn(app.prisma.tB_M_SCHEDULE, 'create').mockResolvedValue({ ... });\n  const result = await scheduleService.createSchedule(app, data);\n  expect(result).toBeDefined();\n});"
        }
      ],
      "todos": [
        {
          "id": "todo-createSchedule-001",
          "task": "Setup test file: src/tests/unit/schedule.service.spec.ts (createSchedule section)",
          "status": "pending",
          "priority": "high",
          "description": "Add describe block for createSchedule tests"
        },
        {
          "id": "todo-createSchedule-002",
          "task": "Write test: Happy Path - Create Schedule",
          "status": "pending",
          "priority": "high",
          "description": "Write test for successful schedule creation"
        },
        {
          "id": "todo-createSchedule-003",
          "task": "Mock app.prisma.tB_M_SCHEDULE.create",
          "status": "pending",
          "priority": "high",
          "description": "Mock Prisma create for schedule"
        },
        {
          "id": "todo-createSchedule-004",
          "task": "Implement createSchedule function",
          "status": "pending",
          "priority": "high",
          "description": "Validate input and create schedule via Prisma"
        },
        {
          "id": "todo-createSchedule-005",
          "task": "Add validation for required fields",
          "status": "pending",
          "priority": "medium",
          "description": "Validate APPLICATION_ID, SCHEDULE_SYNC_START_DT are provided"
        },
        {
          "id": "todo-createSchedule-006",
          "task": "Add audit fields (CREATED_BY, CREATED_DATE)",
          "status": "pending",
          "priority": "medium",
          "description": "Set audit fields from current user context"
        }
      ],
      "bddScenarios": [
        {
          "id": "bdd-createSchedule-001",
          "name": "Feature: Create Schedule",
          "description": "As a system administrator, I want to create a new schedule so that UAR processes can run on schedule",
          "scenarios": [
            {
              "id": "bdd-createSchedule-001-001",
              "name": "Scenario: Create Schedule Successfully",
              "given": [
                "Valid schedule data provided",
                "APPLICATION_ID exists"
              ],
              "when": [
                "Administrator calls createSchedule with valid data",
                "System validates input"
              ],
              "then": [
                "System creates schedule in database",
                "System returns created schedule object",
                "System sets audit fields"
              ],
              "testCode": "it('should create schedule', async () => {\n  const data = { APPLICATION_ID: 'APP001', SCHEDULE_SYNC_START_DT: '2024-01-01' };\n  jest.spyOn(app.prisma.tB_M_SCHEDULE, 'create').mockResolvedValue({ ID: 1, ...data });\n  const result = await scheduleService.createSchedule(app, data);\n  expect(result).toBeDefined();\n  expect(result.APPLICATION_ID).toBe('APP001');\n});"
            }
          ]
        }
      ]
    },
    {
      "name": "unknown",
      "description": "Handles POST request to /",
      "signature": "GET /",
      "method": "GET",
      "endpoint": "/",
      "testScenarios": [
        {
          "phase": "RED",
          "description": "Test unknown should fail initially",
          "testCode": "it('should unknown', async () => {\n  // TODO: Implement test\n});",
          "expectedResult": "Test should fail"
        },
        {
          "phase": "GREEN",
          "description": "Test unknown should pass after implementation",
          "testCode": "it('should unknown', async () => {\n  // TODO: Implement test\n});",
          "expectedResult": "Test should pass"
        },
        {
          "phase": "REFACTOR",
          "description": "Refactor unknown implementation",
          "testCode": "// TODO: Refactor code\n// All tests should still pass",
          "expectedResult": "Code refactored, tests still pass"
        }
      ],
      "todos": [
        {
          "id": "1",
          "task": "Implement unknown function",
          "status": "pending",
          "priority": "high",
          "description": "Create implementation for unknown"
        }
      ],
      "bddScenarios": [
        {
          "feature": "unknown Feature",
          "description": "As a developer, I want to unknown so that I can handle the request",
          "scenarios": [
            {
              "name": "unknown Success Scenario",
              "given": "Given I have valid request",
              "when": "When I call unknown",
              "then": "Then I should receive successful response",
              "testCode": "// TODO: Implement BDD test"
            }
          ]
        }
      ],
      "dod": {
        "criteria": [
          {
            "id": "dod-1",
            "description": "All test scenarios implemented and passing",
            "status": "PENDING",
            "evidence": ""
          },
          {
            "id": "dod-2",
            "description": "Code coverage meets minimum threshold (70%)",
            "status": "PENDING",
            "evidence": ""
          },
          {
            "id": "dod-3",
            "description": "Error handling implemented for all error cases",
            "status": "PENDING",
            "evidence": ""
          },
          {
            "id": "dod-4",
            "description": "Code reviewed and approved",
            "status": "PENDING",
            "evidence": ""
          },
          {
            "id": "dod-5",
            "description": "Documentation updated",
            "status": "PENDING",
            "evidence": ""
          }
        ],
        "acceptanceCriteria": [
          {
            "id": "ac-1",
            "description": "Test unknown should fail initially",
            "testScenarioId": "unknown-scenario-1",
            "status": "PENDING"
          },
          {
            "id": "ac-2",
            "description": "Test unknown should pass after implementation",
            "testScenarioId": "unknown-scenario-2",
            "status": "PENDING"
          },
          {
            "id": "ac-3",
            "description": "Refactor unknown implementation",
            "testScenarioId": "unknown-scenario-3",
            "status": "PENDING"
          }
        ]
      }
    },
    {
      "name": "APPLICATIONIDSCHEDULESYNCSTARTDTSCHEDULEUARDT",
      "description": "Handles PUT request to /:APPLICATION_ID/:SCHEDULE_SYNC_START_DT/:SCHEDULE_UAR_DT",
      "signature": "PUT /:APPLICATION_ID/:SCHEDULE_SYNC_START_DT/:SCHEDULE_UAR_DT",
      "method": "PUT",
      "endpoint": "/:APPLICATION_ID/:SCHEDULE_SYNC_START_DT/:SCHEDULE_UAR_DT",
      "testScenarios": [
        {
          "phase": "RED",
          "description": "Test APPLICATIONIDSCHEDULESYNCSTARTDTSCHEDULEUARDT should fail initially",
          "testCode": "it('should APPLICATIONIDSCHEDULESYNCSTARTDTSCHEDULEUARDT', async () => {\n  // TODO: Implement test\n});",
          "expectedResult": "Test should fail"
        },
        {
          "phase": "GREEN",
          "description": "Test APPLICATIONIDSCHEDULESYNCSTARTDTSCHEDULEUARDT should pass after implementation",
          "testCode": "it('should APPLICATIONIDSCHEDULESYNCSTARTDTSCHEDULEUARDT', async () => {\n  // TODO: Implement test\n});",
          "expectedResult": "Test should pass"
        },
        {
          "phase": "REFACTOR",
          "description": "Refactor APPLICATIONIDSCHEDULESYNCSTARTDTSCHEDULEUARDT implementation",
          "testCode": "// TODO: Refactor code\n// All tests should still pass",
          "expectedResult": "Code refactored, tests still pass"
        }
      ],
      "todos": [
        {
          "id": "1",
          "task": "Implement APPLICATIONIDSCHEDULESYNCSTARTDTSCHEDULEUARDT function",
          "status": "pending",
          "priority": "high",
          "description": "Create implementation for APPLICATIONIDSCHEDULESYNCSTARTDTSCHEDULEUARDT"
        }
      ],
      "bddScenarios": [
        {
          "feature": "APPLICATIONIDSCHEDULESYNCSTARTDTSCHEDULEUARDT Feature",
          "description": "As a developer, I want to APPLICATIONIDSCHEDULESYNCSTARTDTSCHEDULEUARDT so that I can handle the request",
          "scenarios": [
            {
              "name": "APPLICATIONIDSCHEDULESYNCSTARTDTSCHEDULEUARDT Success Scenario",
              "given": "Given I have valid request",
              "when": "When I call APPLICATIONIDSCHEDULESYNCSTARTDTSCHEDULEUARDT",
              "then": "Then I should receive successful response",
              "testCode": "// TODO: Implement BDD test"
            }
          ]
        }
      ],
      "dod": {
        "criteria": [
          {
            "id": "dod-1",
            "description": "All test scenarios implemented and passing",
            "status": "PENDING",
            "evidence": ""
          },
          {
            "id": "dod-2",
            "description": "Code coverage meets minimum threshold (70%)",
            "status": "PENDING",
            "evidence": ""
          },
          {
            "id": "dod-3",
            "description": "Error handling implemented for all error cases",
            "status": "PENDING",
            "evidence": ""
          },
          {
            "id": "dod-4",
            "description": "Code reviewed and approved",
            "status": "PENDING",
            "evidence": ""
          },
          {
            "id": "dod-5",
            "description": "Documentation updated",
            "status": "PENDING",
            "evidence": ""
          }
        ],
        "acceptanceCriteria": [
          {
            "id": "ac-1",
            "description": "Test APPLICATIONIDSCHEDULESYNCSTARTDTSCHEDULEUARDT should fail initially",
            "testScenarioId": "APPLICATIONIDSCHEDULESYNCSTARTDTSCHEDULEUARDT-scenario-1",
            "status": "PENDING"
          },
          {
            "id": "ac-2",
            "description": "Test APPLICATIONIDSCHEDULESYNCSTARTDTSCHEDULEUARDT should pass after implementation",
            "testScenarioId": "APPLICATIONIDSCHEDULESYNCSTARTDTSCHEDULEUARDT-scenario-2",
            "status": "PENDING"
          },
          {
            "id": "ac-3",
            "description": "Refactor APPLICATIONIDSCHEDULESYNCSTARTDTSCHEDULEUARDT implementation",
            "testScenarioId": "APPLICATIONIDSCHEDULESYNCSTARTDTSCHEDULEUARDT-scenario-3",
            "status": "PENDING"
          }
        ]
      }
    },
    {
      "name": "APPLICATIONIDSCHEDULESYNCSTARTDTSCHEDULEUARDTstatus",
      "description": "Handles PUT request to /:APPLICATION_ID/:SCHEDULE_SYNC_START_DT/:SCHEDULE_UAR_DT/status",
      "signature": "PUT /:APPLICATION_ID/:SCHEDULE_SYNC_START_DT/:SCHEDULE_UAR_DT/status",
      "method": "PUT",
      "endpoint": "/:APPLICATION_ID/:SCHEDULE_SYNC_START_DT/:SCHEDULE_UAR_DT/status",
      "testScenarios": [
        {
          "phase": "RED",
          "description": "Test APPLICATIONIDSCHEDULESYNCSTARTDTSCHEDULEUARDTstatus should fail initially",
          "testCode": "it('should APPLICATIONIDSCHEDULESYNCSTARTDTSCHEDULEUARDTstatus', async () => {\n  // TODO: Implement test\n});",
          "expectedResult": "Test should fail"
        },
        {
          "phase": "GREEN",
          "description": "Test APPLICATIONIDSCHEDULESYNCSTARTDTSCHEDULEUARDTstatus should pass after implementation",
          "testCode": "it('should APPLICATIONIDSCHEDULESYNCSTARTDTSCHEDULEUARDTstatus', async () => {\n  // TODO: Implement test\n});",
          "expectedResult": "Test should pass"
        },
        {
          "phase": "REFACTOR",
          "description": "Refactor APPLICATIONIDSCHEDULESYNCSTARTDTSCHEDULEUARDTstatus implementation",
          "testCode": "// TODO: Refactor code\n// All tests should still pass",
          "expectedResult": "Code refactored, tests still pass"
        }
      ],
      "todos": [
        {
          "id": "1",
          "task": "Implement APPLICATIONIDSCHEDULESYNCSTARTDTSCHEDULEUARDTstatus function",
          "status": "pending",
          "priority": "high",
          "description": "Create implementation for APPLICATIONIDSCHEDULESYNCSTARTDTSCHEDULEUARDTstatus"
        }
      ],
      "bddScenarios": [
        {
          "feature": "APPLICATIONIDSCHEDULESYNCSTARTDTSCHEDULEUARDTstatus Feature",
          "description": "As a developer, I want to APPLICATIONIDSCHEDULESYNCSTARTDTSCHEDULEUARDTstatus so that I can handle the request",
          "scenarios": [
            {
              "name": "APPLICATIONIDSCHEDULESYNCSTARTDTSCHEDULEUARDTstatus Success Scenario",
              "given": "Given I have valid request",
              "when": "When I call APPLICATIONIDSCHEDULESYNCSTARTDTSCHEDULEUARDTstatus",
              "then": "Then I should receive successful response",
              "testCode": "// TODO: Implement BDD test"
            }
          ]
        }
      ],
      "dod": {
        "criteria": [
          {
            "id": "dod-1",
            "description": "All test scenarios implemented and passing",
            "status": "PENDING",
            "evidence": ""
          },
          {
            "id": "dod-2",
            "description": "Code coverage meets minimum threshold (70%)",
            "status": "PENDING",
            "evidence": ""
          },
          {
            "id": "dod-3",
            "description": "Error handling implemented for all error cases",
            "status": "PENDING",
            "evidence": ""
          },
          {
            "id": "dod-4",
            "description": "Code reviewed and approved",
            "status": "PENDING",
            "evidence": ""
          },
          {
            "id": "dod-5",
            "description": "Documentation updated",
            "status": "PENDING",
            "evidence": ""
          }
        ],
        "acceptanceCriteria": [
          {
            "id": "ac-1",
            "description": "Test APPLICATIONIDSCHEDULESYNCSTARTDTSCHEDULEUARDTstatus should fail initially",
            "testScenarioId": "APPLICATIONIDSCHEDULESYNCSTARTDTSCHEDULEUARDTstatus-scenario-1",
            "status": "PENDING"
          },
          {
            "id": "ac-2",
            "description": "Test APPLICATIONIDSCHEDULESYNCSTARTDTSCHEDULEUARDTstatus should pass after implementation",
            "testScenarioId": "APPLICATIONIDSCHEDULESYNCSTARTDTSCHEDULEUARDTstatus-scenario-2",
            "status": "PENDING"
          },
          {
            "id": "ac-3",
            "description": "Refactor APPLICATIONIDSCHEDULESYNCSTARTDTSCHEDULEUARDTstatus implementation",
            "testScenarioId": "APPLICATIONIDSCHEDULESYNCSTARTDTSCHEDULEUARDTstatus-scenario-3",
            "status": "PENDING"
          }
        ]
      }
    }
  ]
}